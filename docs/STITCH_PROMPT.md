# Putt Tempo - Google Stitch UIデザインプロンプト

## 1. アプリ概要

**Putt Tempo**は、ゴルフのパター練習専用メトロノームアプリです。

### 主な特徴
- **BPM調整**: 30〜200 BPMの範囲でテンポを設定
- **バック:フォワード比率**: 1:1〜5:5の範囲でストローク比率を調整
- **ビジュアルペンダム**: パター風デザインの振り子アニメーションでリズムを視覚化
- **音声/バイブレーション切り替え**: 練習場でも使いやすいバイブのみモード
- **プリセット管理**: デフォルト4種類＋カスタムプリセット作成機能
- **買い切りプレミアム**: ¥480で広告非表示・追加サウンド・無制限プリセット

### ターゲットプラットフォーム
- iOS / Android（React Native / Expo）

### デザインコンセプト
- **ダークテーマ**: 屋外でも視認性の高いダークモードUI
- **ミニマルデザイン**: 練習に集中できるシンプルなインターフェース
- **Material Design 3準拠**: モダンで一貫性のあるデザインシステム

---

## 2. 必要な画面構成

### 2.1 ホーム画面（メイン画面）

**目的**: メトロノームの再生/停止、BPM・比率の確認、プリセット選択

```
┌─────────────────────────────────────┐
│ Putt Tempo                    [⚙️]  │ ← ヘッダー: h=56dp
├─────────────────────────────────────┤
│                                     │
│     ┌─────────────────────────┐     │
│     │                         │     │
│     │    🏌️ ビジュアル        │     │ ← 振り子エリア: 240×200dp
│     │       ペンダム          │     │   パターヘッドが左右に揺れる
│     │                         │     │
│     └─────────────────────────┘     │
│                                     │
│              85 BPM                 │ ← BPM表示: 48sp Bold
│               2 : 1                 │ ← 比率表示: 24sp Medium
│                                     │
│     ┌─────────────────────────┐     │
│     │  📁 スタンダード     ▼  │     │ ← プリセット選択: h=48dp
│     └─────────────────────────┘     │
│                                     │
│          ┌─────────────┐            │
│          │             │            │
│          │     ▶️      │            │ ← 再生ボタン: 80×80dp 円形
│          │             │            │
│          └─────────────┘            │
│                                     │
│    [🔇 バイブ]     [📳 音]         │ ← 出力切替トグル: 各120×44dp
│                                     │
├─────────────────────────────────────┤
│ [広告バナー 320×50dp]               │ ← 無料版のみ表示
├─────────────────────────────────────┤
│  🏠     📁      📊      ⚙️        │ ← タブバー: h=56dp
│ ホーム  プリセット 統計   設定       │
└─────────────────────────────────────┘
```

**UI要素詳細**:

| 要素 | サイズ | 色（通常） | 色（アクティブ/選択） |
|------|--------|-----------|---------------------|
| ヘッダーテキスト | 22sp Bold | #FFFFFF | - |
| 設定アイコン | 24×24dp | #888888 | #FFFFFF |
| BPM数値 | 48sp Bold | #FFFFFF | - |
| 比率テキスト | 24sp Medium | #888888 | - |
| 再生ボタン | 80dp 円形 | bg:#3B82F6 icon:#FFFFFF | bg:#60A5FA |
| 再生ボタン（停止中） | - | ▶️ アイコン | - |
| 再生ボタン（再生中） | - | ⏸️ アイコン | - |
| ドロップダウン | h=48dp r=8dp | bg:#1A1A1A border:#333333 | bg:#333333 |
| 出力切替ボタン | 120×44dp r=8dp | bg:#1A1A1A text:#888888 | bg:#3B82F6 text:#FFFFFF |

---

### 2.2 プリセット一覧画面

**目的**: デフォルト/カスタムプリセットの閲覧・管理

```
┌─────────────────────────────────────┐
│ プリセット                    [＋]  │ ← ヘッダー: h=56dp
├─────────────────────────────────────┤
│                                     │
│  デフォルト                         │ ← セクションタイトル: 14sp #888888
│  ┌─────────────────────────────┐   │
│  │ ⭐ スタンダード              │   │ ← カード: h=72dp r=16dp
│  │    85 BPM / 2:1             │   │   bg:#1A1A1A
│  └─────────────────────────────┘   │
│  ┌─────────────────────────────┐   │
│  │    ゆっくり                  │   │
│  │    70 BPM / 2:1             │   │
│  └─────────────────────────────┘   │
│  ┌─────────────────────────────┐   │
│  │    速め                      │   │
│  │    100 BPM / 2:1            │   │
│  └─────────────────────────────┘   │
│  ┌─────────────────────────────┐   │
│  │    均等リズム                │   │
│  │    85 BPM / 1:1             │   │
│  └─────────────────────────────┘   │
│                                     │
│  カスタム（1/3）         [🔓 無料]  │ ← 残り枠表示
│  ┌─────────────────────────────┐   │
│  │ ⭐ 朝練用            [編集] │   │ ← 編集ボタン付き
│  │    90 BPM / 2:1             │   │
│  └─────────────────────────────┘   │
│                                     │
│  ┌ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ┐   │ ← 空きスロット: border-dashed
│  │  ＋ 新しいプリセットを作成   │   │   border:#333333
│  └ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ┘   │
│                                     │
├─────────────────────────────────────┤
│  🏠     📁      📊      ⚙️        │
└─────────────────────────────────────┘
```

**UI要素詳細**:

| 要素 | サイズ | 色/スタイル |
|------|--------|------------|
| セクションタイトル | 14sp Medium | #888888 |
| プリセットカード | h=72dp r=16dp | bg:#1A1A1A |
| プリセット名 | 18sp Medium | #FFFFFF |
| BPM/比率テキスト | 14sp Regular | #888888 |
| お気に入りアイコン ⭐ | 16dp | #F59E0B |
| 編集ボタン | 14sp | #3B82F6 |
| 新規作成枠 | h=72dp r=16dp | border-dashed #333333 |
| ＋ボタン（ヘッダー） | 24dp | #3B82F6 |

---

### 2.3 プリセット作成/編集画面

**目的**: プリセットの名前・BPM・比率・音の設定

```
┌─────────────────────────────────────┐
│ [←] プリセット作成        [保存]    │ ← ヘッダー: h=56dp
├─────────────────────────────────────┤
│                                     │
│  プリセット名                       │ ← ラベル: 14sp #888888
│  ┌─────────────────────────────┐   │
│  │ 朝練用                      │   │ ← テキスト入力: h=48dp r=8dp
│  └─────────────────────────────┘   │   bg:#1A1A1A border:#333333
│                          0/20文字   │ ← 文字数カウント: 12sp #666666
│                                     │
│  テンポ（BPM）                      │
│  ┌─────────────────────────────┐   │
│  │    30 ─────────●───────── 200│   │ ← スライダー: track:#333333
│  │              85              │   │   thumb:#3B82F6 active:#3B82F6
│  └─────────────────────────────┘   │
│                                     │
│  比率（バック : フォワード）        │
│  ┌──────────┐   ┌──────────┐       │
│  │    2     │ : │    1     │       │ ← 数値: 32sp Bold #FFFFFF
│  │  [－][＋]│   │  [－][＋]│       │ ← ボタン: 40×40dp r=8dp
│  └──────────┘   └──────────┘       │
│                                     │
│  音の種類                           │
│  ┌─────────────────────────────┐   │
│  │ 🔊 クリック              ▼ │   │ ← ドロップダウン: h=48dp
│  └─────────────────────────────┘   │
│                                     │
│  ┌─────────────────────────────┐   │
│  │    🎵 プレビュー再生        │   │ ← ボタン: h=48dp r=8dp
│  └─────────────────────────────┘   │   bg:#1A1A1A border:#3B82F6
│                                     │
│  ┌─────────────────────────────┐   │
│  │ ⭐ お気に入りに追加   [  ]  │   │ ← トグルスイッチ付き行
│  └─────────────────────────────┘   │
│                                     │
│  ┌─────────────────────────────┐   │
│  │    🗑️ このプリセットを削除   │   │ ← 削除ボタン: text:#EF4444
│  └─────────────────────────────┘   │   （編集モードのみ表示）
│                                     │
└─────────────────────────────────────┘
```

**UI要素詳細**:

| 要素 | サイズ | 色/スタイル |
|------|--------|------------|
| 戻るボタン ← | 24dp | #FFFFFF |
| 保存ボタン | 14sp Medium | #3B82F6 / disabled:#555555 |
| ラベルテキスト | 14sp Medium | #888888 |
| テキスト入力 | h=48dp r=8dp | bg:#1A1A1A border:#333333 focus:#3B82F6 |
| 文字数カウント | 12sp | #666666 / over:#EF4444 |
| スライダーtrack | h=4dp | #333333 |
| スライダーthumb | 24dp 円形 | #3B82F6 |
| ステッパー数値 | 32sp Bold | #FFFFFF |
| ステッパーボタン ＋/－ | 40×40dp r=8dp | bg:#333333 text:#FFFFFF |
| プレビューボタン | h=48dp r=8dp | bg:#1A1A1A border:#3B82F6 text:#3B82F6 |
| 削除ボタン | h=48dp | text:#EF4444 |

---

### 2.4 統計画面

**目的**: 練習記録・統計情報の表示

```
┌─────────────────────────────────────┐
│ 統計                                │ ← ヘッダー: h=56dp
├─────────────────────────────────────┤
│                                     │
│  ┌─────────────────────────────┐   │
│  │  今週の練習                  │   │ ← サマリーカード: r=16dp
│  │                             │   │   bg:#1A1A1A
│  │   45分                      │   │ ← 大きい数値: 48sp Bold #FFFFFF
│  │   5セッション               │   │ ← サブテキスト: 14sp #888888
│  └─────────────────────────────┘   │
│                                     │
│  ┌─────────────────────────────┐   │
│  │  📊 日別グラフ              │   │ ← グラフカード: r=16dp
│  │                             │   │
│  │  15│        ██              │   │ ← Y軸ラベル: 12sp #666666
│  │  10│     ██ ██ ██           │   │ ← 棒グラフ: fill:#3B82F6
│  │   5│  ██ ██ ██ ██    ██     │   │   r=4dp (top)
│  │   0├──┬──┬──┬──┬──┬──┬──    │   │
│  │     月 火 水 木 金 土 日      │   │ ← X軸ラベル: 12sp #888888
│  └─────────────────────────────┘   │
│                                     │
│  詳細                               │ ← セクションタイトル
│  ┌─────────────────────────────┐   │
│  │ 平均セッション時間    9分    │   │ ← リスト行: h=48dp
│  ├─────────────────────────────┤   │   divider:#333333
│  │ よく使うプリセット          │   │
│  │           スタンダード       │   │
│  └─────────────────────────────┘   │
│                                     │
│  ┌ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ┐   │ ← プレミアム誘導バナー
│  │ 🔓 7日間以上の履歴は        │   │   bg:#1A1A1A r=16dp
│  │    プレミアムで確認できます  │   │   border-dashed:#F59E0B
│  │         [詳しく見る]        │   │
│  └ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ┘   │
│                                     │
├─────────────────────────────────────┤
│  🏠     📁      📊      ⚙️        │
└─────────────────────────────────────┘
```

**UI要素詳細**:

| 要素 | サイズ | 色/スタイル |
|------|--------|------------|
| サマリー数値 | 48sp Bold | #FFFFFF |
| サマリーラベル | 14sp | #888888 |
| グラフ棒 | w=32dp r=4dp(top) | #3B82F6 |
| グラフ軸ラベル | 12sp | #888888 |
| リスト行 | h=48dp | divider:#333333 |
| プレミアム誘導バナー | r=16dp | border-dashed:#F59E0B bg:#1A1A1A |

---

### 2.5 設定画面

**目的**: アプリ設定・アカウント管理・プレミアム購入導線

```
┌─────────────────────────────────────┐
│ 設定                                │
├─────────────────────────────────────┤
│                                     │
│  アカウント                         │ ← セクションタイトル: 14sp #888888
│  ┌─────────────────────────────┐   │
│  │ 👤 ゲストユーザー           │   │ ← アイコン24dp + テキスト16sp
│  │    アカウントを作成 →       │   │ ← サブテキスト14sp #3B82F6
│  └─────────────────────────────┘   │
│                                     │
│  プラン                             │
│  ┌─────────────────────────────┐   │
│  │ 無料プラン                   │   │ ← タイトル: 16sp #FFFFFF
│  │ プレミアムにアップグレード → │   │ ← リンク: 14sp #F59E0B
│  └─────────────────────────────┘   │
│                                     │
│  サウンド設定                       │
│  ┌─────────────────────────────┐   │
│  │ デフォルトの音   クリック ▼ │   │ ← ドロップダウン付き行
│  ├─────────────────────────────┤   │
│  │ バイブレーション     [ON]   │   │ ← トグルスイッチ付き行
│  └─────────────────────────────┘   │
│                                     │
│  アプリについて                     │
│  ┌─────────────────────────────┐   │
│  │ バージョン         1.0.0    │   │ ← 右寄せ値: 14sp #888888
│  ├─────────────────────────────┤   │
│  │ 利用規約                  → │   │ ← 矢印付きリンク行
│  ├─────────────────────────────┤   │
│  │ プライバシーポリシー      → │   │
│  ├─────────────────────────────┤   │
│  │ お問い合わせ              → │   │
│  └─────────────────────────────┘   │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 🔄 購入を復元               │   │ ← ボタン: h=48dp text:#3B82F6
│  └─────────────────────────────┘   │
│                                     │
├─────────────────────────────────────┤
│  🏠     📁      📊      ⚙️        │
└─────────────────────────────────────┘
```

---

### 2.6 プレミアム画面（モーダル）

**目的**: プレミアム機能の紹介・購入

```
┌─────────────────────────────────────┐
│ [×]                                 │ ← 閉じるボタン: 24dp #888888
├─────────────────────────────────────┤
│                                     │
│           ⭐ Premium ⭐             │ ← タイトル: 28sp Bold #F59E0B
│                                     │
│     もっと自由に練習しよう          │ ← サブタイトル: 16sp #FFFFFF
│                                     │
│  ┌─────────────────────────────┐   │
│  │ ✅ プリセット無制限          │   │ ← 特典リスト: icon:#22C55E
│  ├─────────────────────────────┤   │   text:16sp #FFFFFF
│  │ ✅ 10種類のサウンド          │   │   bg:#1A1A1A r=16dp
│  ├─────────────────────────────┤   │
│  │ ✅ 広告非表示                │   │
│  └─────────────────────────────┘   │
│                                     │
│                                     │
│  ┌─────────────────────────────┐   │
│  │                             │   │ ← 購入ボタン: h=56dp r=28dp
│  │    ¥480（買い切り）         │   │   bg:#3B82F6 text:#FFFFFF
│  │    [今すぐアップグレード]   │   │   shadow:level2
│  │                             │   │
│  └─────────────────────────────┘   │
│                                     │
│        購入を復元                   │ ← リンク: 14sp #888888 underline
│                                     │
│  ─────────────────────────────     │
│  一度購入すれば永久に利用可能       │ ← 注釈: 12sp #666666 center
│                                     │
└─────────────────────────────────────┘
```

---

### 2.7 プリセット選択モーダル（ボトムシート）

**目的**: ホーム画面からプリセットを素早く切り替え

```
┌─────────────────────────────────────┐
│                                     │
│  （背景: 半透明オーバーレイ）       │ ← overlay: #000000 opacity:0.5
│                                     │
│  ┌─────────────────────────────┐   │
│  │ ─────                       │   │ ← ハンドル: w=40dp h=4dp r=2dp
│  │ プリセットを選択       [×]  │   │   bg:#333333
│  ├─────────────────────────────┤   │
│  │ ⭐ スタンダード   85/2:1 ✓  │   │ ← 選択中: bg:#333333 ✓:#3B82F6
│  │    ゆっくり       70/2:1    │   │
│  │    速め          100/2:1    │   │
│  │    均等リズム     85/1:1    │   │
│  ├─────────────────────────────┤   │ ← divider:#333333
│  │ ⭐ 朝練用        90/2:1    │   │ ← カスタムセクション
│  ├─────────────────────────────┤   │
│  │  ＋ 新規作成                │   │ ← text:#3B82F6
│  └─────────────────────────────┘   │
│                                     │
└─────────────────────────────────────┘
```

---

## 3. デザイン要件

### 3.1 デザインシステム
- **Material Design 3準拠**
- **ダークテーマ**: 練習環境（屋外・練習場）での視認性を重視
- **タッチターゲット**: 最小48×48dp

### 3.2 カラーパレット

```
┌────────────────────────────────────────────────────────────┐
│  カラーパレット                                             │
├────────────────────────────────────────────────────────────┤
│                                                            │
│  ■ Primary        #0A0A0A    メイン背景（ダーク）          │
│  ■ Secondary      #1A1A1A    サーフェス、カード背景         │
│  ■ Tertiary       #3B82F6    アクセント（ブルー）          │
│                                                            │
│  ■ Accent1        #60A5FA    ライトブルー（ホバー等）       │
│  ■ Accent2        #F59E0B    アンバー/ゴールド（プレミアム）│
│                                                            │
│  ■ Background     #0A0A0A    アプリ背景                    │
│  ■ Surface        #1A1A1A    カード、モーダル背景          │
│  ■ SurfaceVariant #333333    入力フィールド、ボーダー       │
│                                                            │
│  ■ OnPrimary      #FFFFFF    背景上のテキスト              │
│  ■ OnSurface      #FFFFFF    サーフェス上のテキスト         │
│  ■ TextMuted      #888888    補助テキスト                  │
│  ■ TextHint       #666666    ヒントテキスト                │
│                                                            │
│  ■ Error          #EF4444    エラー、削除                  │
│  ■ Success        #22C55E    成功、チェック                │
│  ■ Warning        #F59E0B    警告、注意                    │
│  ■ Info           #3B82F6    情報                         │
│                                                            │
│  ■ Border         #333333    ボーダー                      │
│  ■ BorderLight    #444444    ライトボーダー                │
│                                                            │
└────────────────────────────────────────────────────────────┘
```

### 3.3 タイポグラフィ

| 用途 | サイズ | ウェイト | 行間 | 使用箇所 |
|------|--------|---------|------|---------|
| Display Large | 48sp | Bold (700) | 1.2 | BPM数値、統計メイン数値 |
| Headline Large | 32sp | Bold (700) | 1.2 | - |
| Title Large | 22sp | Medium (500) | 1.3 | 画面タイトル |
| Body Large | 18sp | Regular (400) | 1.5 | プリセット名 |
| Body Medium | 16sp | Regular (400) | 1.5 | 本文、設定項目 |
| Label Large | 14sp | Medium (500) | 1.4 | ボタン、リンク |
| Label Small | 12sp | Medium (500) | 1.4 | 補助テキスト、注釈 |

**フォントファミリー**:
- Android: `Noto Sans JP`
- iOS: `Hiragino Sans`
- フォールバック: `System`

### 3.4 スペーシング（8dpグリッドシステム）

| トークン | 値 | 用途 |
|----------|-----|------|
| xs | 4dp | 微小間隔 |
| sm | 8dp | アイコン間隔 |
| md | 16dp | コンポーネント内padding |
| lg | 24dp | セクション間隔 |
| xl | 32dp | 大きなセクション間隔 |
| 2xl | 40dp | 画面端余白 |
| 3xl | 48dp | 特大余白 |

### 3.5 Elevation（影のレベル）

| レベル | 用途 | 設定 |
|--------|------|------|
| Level 0 | フラット | elevation: 0 |
| Level 1 | カード（通常） | elevation: 2, shadowRadius: 2 |
| Level 2 | カード（浮き） | elevation: 4, shadowRadius: 4 |
| Level 3 | モーダル | elevation: 8, shadowRadius: 8 |
| Level 4 | ダイアログ | elevation: 12, shadowRadius: 12 |

### 3.6 角丸（Corner Radius）

| トークン | 値 | 用途 |
|----------|-----|------|
| sm | 8dp | ボタン、入力フィールド、小さなカード |
| md | 16dp | カード、リスト |
| lg | 24dp | モーダル、ボトムシート |
| full | 9999dp | 完全な円（再生ボタン等） |

---

## 4. アニメーション仕様

### 4.1 ビジュアルペンダム（振り子アニメーション）

**トリガー**: メトロノーム再生開始

**動作**:
```
         ◄─── バックストローク ───►
                    │
         左端  ←──  │  ──→  右端
              ↖     │     ↗
                \   │   /
                 \  │  /    ← 振り子の弧
                  \ │ /
                   \│/
                    ●  ← パターヘッド
                    │
                    │  ← シャフト
                    ▼
```

**実装詳細**:
| パラメータ | 値 |
|-----------|-----|
| 回転角度範囲 | -30° 〜 +30° |
| BPM連動 | 1サイクル = 60000ms / BPM |
| 比率適用 | バック:フォワード比率でタイミング分割 |
| イージング | `Easing.inOut(Easing.sine)` |
| フレームレート | 60FPS |

**例（85 BPM, 2:1比率）**:
- 1サイクル = 706ms
- バックストローク = 471ms（2/3）
- フォワードストローク = 235ms（1/3）

### 4.2 再生ボタン押下

**トリガー**: ボタンタップ

**動作**:
| 状態 | スケール | 所要時間 | イージング |
|------|---------|---------|-----------|
| Press In | 0.95 | 50ms | `Easing.inOut(Easing.ease)` |
| Press Out | 1.0 | 100ms | `Easing.inOut(Easing.ease)` |

**アイコン切り替え**:
| 状態変化 | アニメーション |
|---------|---------------|
| 停止→再生 | ▶️→⏸️ フェード切り替え 200ms |
| 再生→停止 | ⏸️→▶️ フェード切り替え 200ms |

### 4.3 モーダル表示

**トリガー**: モーダル表示トリガー（ボタンタップ等）

**動作**:
| 要素 | アニメーション | 所要時間 | イージング |
|------|---------------|---------|-----------|
| オーバーレイ | opacity: 0→0.5 | 300ms | `Easing.inOut(Easing.ease)` |
| コンテナ | translateY: 300→0 | 400ms | `Easing.out(Easing.cubic)` |
| コンテンツ | opacity: 0→1 | 300ms (200ms delay) | `Easing.inOut(Easing.ease)` |

### 4.4 カードタップフィードバック

**トリガー**: カードタップ

**動作**:
| 状態 | 背景色 | 所要時間 |
|------|--------|---------|
| Normal | #1A1A1A | - |
| Pressed | #333333 | 100ms |
| Release | #1A1A1A | 150ms |

### 4.5 タブ切り替え

**トリガー**: タブアイコンタップ

**動作**:
| 要素 | アニメーション | 所要時間 |
|------|---------------|---------|
| アイコン色 | #888888 → #3B82F6 | 150ms |
| ラベル色 | #888888 → #FFFFFF | 150ms |
| インジケーター | 水平スライド | 200ms |

### 4.6 スライダー操作

**トリガー**: スライダードラッグ

**動作**:
| パラメータ | 値 |
|-----------|-----|
| Thumb拡大 | 1.0 → 1.2（ドラッグ中） |
| 値表示更新 | リアルタイム（60FPS） |
| Hapticフィードバック | 10単位ごとに軽いバイブ |

---

## 5. 操作フロー

### 5.1 メトロノーム再生フロー

```
ホーム画面表示
      ↓
プリセット選択（任意）
      ↓
【タップ】再生ボタン
      ↓
【システム】メトロノーム開始
  - 音/バイブレーション出力
  - ペンダムアニメーション開始
      ↓
【表示】ボタンアイコン ▶️→⏸️ に変化
      ↓
（練習中...）
      ↓
【タップ】停止ボタン
      ↓
【システム】メトロノーム停止
  - 出力停止
  - アニメーション停止
  - 練習記録保存（10秒以上の場合）
      ↓
【表示】ボタンアイコン ⏸️→▶️ に変化
```

### 5.2 プリセット作成フロー

```
プリセット一覧画面
      ↓
【タップ】＋ボタン or 空きスロット
      ↓
プリセット作成画面へ遷移
      ↓
【入力】プリセット名
      ↓
【操作】BPMスライダー調整
      ↓
【操作】比率ステッパー調整
      ↓
【選択】音の種類
      ↓
【タップ】プレビュー再生（任意）
      ↓
【タップ】保存ボタン
      ↓
【システム】バリデーション
  - 名前が空でないか
  - 名前が20文字以内か
  - 同名プリセットが存在しないか
      ↓
  ┌── 成功 ──┬── 失敗 ──┐
  ↓          ↓          ↓
保存完了    エラートースト表示
  ↓          ↓
一覧に戻る  入力修正を促す
```

### 5.3 プレミアム購入フロー

```
設定画面 or プレミアム誘導バナー
      ↓
【タップ】プレミアムにアップグレード
      ↓
プレミアム画面（モーダル）表示
      ↓
【タップ】¥480 購入ボタン
      ↓
【システム】RevenueCat SDK呼び出し
      ↓
App Store / Google Play 購入UI表示
      ↓
【ユーザー】支払い完了
      ↓
【システム】レシート検証
      ↓
  ┌── 成功 ──┬── 失敗 ──┐
  ↓          ↓          ↓
成功モーダル  エラーモーダル表示
 「プレミアムに    「購入に失敗しました
  なりました！」    もう一度お試しください」
      ↓          ↓
機能解放       リトライ or サポート連絡
```

---

## 6. レスポンシブデザイン

### 6.1 画面サイズ対応

| デバイスタイプ | 画面幅 | 対応方針 |
|---------------|--------|---------|
| 小型スマホ | 320dp〜 | 最小対応幅、padding縮小 |
| 標準スマホ | 360dp〜 | 基準デザイン |
| 大型スマホ | 400dp〜 | コンテンツ幅制限（maxWidth: 420dp） |
| タブレット | 600dp〜 | 中央寄せ、maxWidth: 500dp |

### 6.2 セーフエリア対応

**iOS**:
```
┌─────────────────────────────────────┐
│ ■■■■■■ ノッチ ■■■■■■               │ ← SafeAreaView適用
│ ─────────────────────────────────── │
│                                     │
│          メインコンテンツ            │
│                                     │
│ ─────────────────────────────────── │
│          ホームバー領域              │ ← 34dp余白確保
└─────────────────────────────────────┘
```

**Android**:
```
┌─────────────────────────────────────┐
│ ステータスバー                       │ ← StatusBar.currentHeight適用
│ ─────────────────────────────────── │
│                                     │
│          メインコンテンツ            │
│                                     │
│ ─────────────────────────────────── │
│ [←] [○] [□] ナビバー               │ ← ナビバー高さ考慮
└─────────────────────────────────────┘
```

### 6.3 向き対応

| 向き | 対応 |
|------|------|
| 縦向き（Portrait） | ✅ 完全対応 |
| 横向き（Landscape） | ❌ 非対応（縦固定） |

---

## 7. アクセシビリティ

### 7.1 コントラスト比

| 組み合わせ | コントラスト比 | WCAG |
|-----------|---------------|------|
| #FFFFFF on #0A0A0A | 19.3:1 | AAA |
| #FFFFFF on #1A1A1A | 14.7:1 | AAA |
| #888888 on #0A0A0A | 5.1:1 | AA |
| #3B82F6 on #0A0A0A | 4.9:1 | AA |
| #FFFFFF on #3B82F6 | 4.5:1 | AA |

### 7.2 タップターゲットサイズ

| コンポーネント | 最小サイズ | 推奨サイズ |
|---------------|-----------|-----------|
| ボタン | 48×48dp | 56×56dp |
| リスト項目 | 48dp高 | 56dp高 |
| アイコンボタン | 48×48dp | 48×48dp |
| タブアイコン | 48×48dp | 56dp幅 |

### 7.3 スクリーンリーダー対応

| 要素 | accessibilityLabel | accessibilityHint |
|------|-------------------|-------------------|
| 再生ボタン | "再生" / "停止" | "メトロノームを再生/停止します" |
| BPMスライダー | "テンポ {value} BPM" | "左右にドラッグしてテンポを調整" |
| プリセットカード | "{name}, {bpm}BPM, {ratio}比率" | "タップして選択" |
| お気に入りボタン | "お気に入り" / "お気に入り解除" | - |

### 7.4 動きの軽減

`prefers-reduced-motion` 設定時:
- ペンダムアニメーション: 無効化（静的表示）
- 画面遷移: フェードのみ（スライド無効）
- ボタン押下: スケール変化無効

---

## 8. デザイントークン（JSON形式）

```json
{
  "colors": {
    "primary": "#0A0A0A",
    "secondary": "#1A1A1A",
    "tertiary": "#3B82F6",
    "accent1": "#60A5FA",
    "accent2": "#F59E0B",
    "background": "#0A0A0A",
    "surface": "#1A1A1A",
    "surfaceVariant": "#333333",
    "onPrimary": "#FFFFFF",
    "onSurface": "#FFFFFF",
    "textMuted": "#888888",
    "textHint": "#666666",
    "error": "#EF4444",
    "success": "#22C55E",
    "warning": "#F59E0B",
    "info": "#3B82F6",
    "border": "#333333",
    "borderLight": "#444444",
    "white": "#FFFFFF",
    "black": "#000000",
    "transparent": "transparent",
    "button": {
      "enabled": "#3B82F6",
      "disabled": "#555555",
      "disabledText": "#888888"
    }
  },
  "spacing": {
    "xs": 4,
    "sm": 8,
    "md": 16,
    "lg": 24,
    "xl": 32,
    "2xl": 40,
    "3xl": 48
  },
  "radius": {
    "sm": 8,
    "md": 16,
    "lg": 24,
    "full": 9999
  },
  "elevation": {
    "level0": {
      "shadowOffset": { "width": 0, "height": 0 },
      "shadowOpacity": 0,
      "shadowRadius": 0,
      "elevation": 0
    },
    "level1": {
      "shadowOffset": { "width": 0, "height": 1 },
      "shadowOpacity": 0.2,
      "shadowRadius": 2,
      "elevation": 2
    },
    "level2": {
      "shadowOffset": { "width": 0, "height": 2 },
      "shadowOpacity": 0.25,
      "shadowRadius": 4,
      "elevation": 4
    },
    "level3": {
      "shadowOffset": { "width": 0, "height": 4 },
      "shadowOpacity": 0.3,
      "shadowRadius": 8,
      "elevation": 8
    },
    "level4": {
      "shadowOffset": { "width": 0, "height": 6 },
      "shadowOpacity": 0.35,
      "shadowRadius": 12,
      "elevation": 12
    }
  },
  "typography": {
    "displayLarge": {
      "fontSize": 48,
      "fontWeight": "700",
      "lineHeight": 1.2
    },
    "headlineLarge": {
      "fontSize": 32,
      "fontWeight": "700",
      "lineHeight": 1.2
    },
    "titleLarge": {
      "fontSize": 22,
      "fontWeight": "500",
      "lineHeight": 1.3
    },
    "bodyLarge": {
      "fontSize": 18,
      "fontWeight": "400",
      "lineHeight": 1.5
    },
    "bodyMedium": {
      "fontSize": 16,
      "fontWeight": "400",
      "lineHeight": 1.5
    },
    "labelLarge": {
      "fontSize": 14,
      "fontWeight": "500",
      "lineHeight": 1.4
    },
    "labelSmall": {
      "fontSize": 12,
      "fontWeight": "500",
      "lineHeight": 1.4
    }
  },
  "animation": {
    "buttonPress": {
      "pressIn": {
        "scale": 0.95,
        "duration": 50,
        "easing": "easeInOut"
      },
      "pressOut": {
        "scale": 1.0,
        "duration": 100,
        "easing": "easeInOut"
      }
    },
    "modal": {
      "backdrop": {
        "opacity": [0, 0.5],
        "duration": 300
      },
      "container": {
        "translateY": [300, 0],
        "duration": 400,
        "easing": "cubicOut"
      },
      "content": {
        "opacity": [0, 1],
        "duration": 300,
        "delay": 200
      }
    },
    "fade": {
      "duration": 300,
      "easing": "easeInOut"
    },
    "slide": {
      "duration": 400,
      "easing": "cubicOut"
    },
    "pendulum": {
      "rotationRange": [-30, 30],
      "easing": "sineInOut"
    }
  },
  "components": {
    "button": {
      "width": 200,
      "height": 56
    },
    "playButton": {
      "size": 80
    },
    "modal": {
      "widthPercent": 0.85,
      "padding": 32
    },
    "card": {
      "padding": 16,
      "marginBottom": 12
    },
    "tabBar": {
      "height": 56
    },
    "header": {
      "height": 56
    },
    "input": {
      "height": 48
    },
    "listItem": {
      "height": 56
    },
    "bannerAd": {
      "width": 320,
      "height": 50,
      "margin": 16
    }
  }
}
```

---

## 9. アイコンデザイン詳細

### 9.1 タブバーアイコン

| アイコン | 名前 | サイズ | 通常色 | アクティブ色 |
|---------|------|--------|--------|-------------|
| 🏠 | home | 24dp | #888888 | #3B82F6 |
| 📁 | folder | 24dp | #888888 | #3B82F6 |
| 📊 | chart-bar | 24dp | #888888 | #3B82F6 |
| ⚙️ | settings | 24dp | #888888 | #3B82F6 |

**推奨アイコンセット**: Lucide Icons / Heroicons

### 9.2 機能アイコン

| アイコン | 用途 | サイズ | 色 |
|---------|------|--------|-----|
| ▶️ | 再生 | 32dp | #FFFFFF |
| ⏸️ | 一時停止 | 32dp | #FFFFFF |
| ⭐ | お気に入り | 16dp | #F59E0B |
| ☆ | お気に入り解除 | 16dp | #888888 |
| ＋ | 追加 | 24dp | #3B82F6 |
| × | 閉じる | 24dp | #888888 |
| ← | 戻る | 24dp | #FFFFFF |
| ▼ | ドロップダウン | 16dp | #888888 |
| ✓ | チェック/選択 | 20dp | #3B82F6 |
| 🔊 | 音声ON | 20dp | #FFFFFF |
| 🔇 | 音声OFF | 20dp | #888888 |
| 📳 | バイブON | 20dp | #FFFFFF |
| 🔔 | 通知 | 20dp | - |
| 🗑️ | 削除 | 20dp | #EF4444 |
| 🔄 | 復元 | 20dp | #3B82F6 |
| 👤 | ユーザー | 24dp | #888888 |
| 🔓 | プレミアム | 20dp | #F59E0B |

### 9.3 ビジュアルペンダム（パターアイコン）

```
        ┌───┐
        │   │  ← パターヘッド: 30×40dp
        │   │     fill:#3B82F6 stroke:#FFFFFF 2dp
        └─┬─┘
          │
          │    ← シャフト: 4×120dp
          │       fill:#888888
          │
          ●    ← 回転支点（非表示）
```

**アニメーション時**:
- 回転支点を中心に左右30°振れ
- パターヘッドが振り子運動

---

## 10. 効果音仕様

### 10.1 効果音リスト

| ID | 名前 | 説明 | プラン |
|----|------|------|--------|
| `click` | クリック | 標準的なクリック音 | 無料 |
| `electronic` | 電子音 | ピッという電子音 | 無料 |
| `wood` | ウッド | コッという木の音 | 無料 |
| `metal` | 金属 | カンという金属音 | プレミアム |
| `soft_beep` | ソフトビープ | 柔らかい電子音 | プレミアム |
| `drum_stick` | ドラムスティック | スティック音 | プレミアム |
| `water_drop` | 水滴 | ポタッという水滴音 | プレミアム |
| `spring` | バネ | バネの音 | プレミアム |
| `bell` | ベル | 鈴の音 | プレミアム |
| `silent` | 無音 | バイブレーション専用 | プレミアム |

### 10.2 音声ファイル仕様

| 項目 | 仕様 |
|------|------|
| フォーマット | MP3 / AAC |
| サンプルレート | 44.1kHz |
| ビットレート | 128kbps |
| 長さ | 50ms〜100ms |
| 音量 | ノーマライズ済み |

### 10.3 バイブレーションパターン

| タイプ | パターン | 用途 |
|--------|---------|------|
| バック | 50ms | バックストローク |
| フォワード | 30ms (強め) | フォワードストローク（インパクト） |

---

## 11. 状態別デザイン

### 11.1 ローディング状態

**全画面ローディング**:
```
┌─────────────────────────────────────┐
│                                     │
│                                     │
│            ⟳                        │ ← スピナー: 40dp #3B82F6
│        読み込み中...                │   回転アニメーション
│                                     │
│                                     │
└─────────────────────────────────────┘
```

**インラインローディング**:
- ボタン内: テキストをスピナー（20dp）に置換
- カード内: スケルトンスクリーン表示

**スケルトンスクリーン**:
```
┌─────────────────────────────────────┐
│  ████████████████                   │ ← bg:#333333 r=4dp
│  ████████                           │   shimmerアニメーション
└─────────────────────────────────────┘
```

### 11.2 エラー状態

**トースト通知**:
```
┌─────────────────────────────────────┐
│ ⚠️ エラーメッセージ            [×] │ ← bg:#EF4444 text:#FFFFFF
└─────────────────────────────────────┘
```
- 表示位置: 画面下部（タブバー上）
- 表示時間: 3秒後自動消去
- タップで即座に消去

**インラインエラー**:
```
  プリセット名
  ┌─────────────────────────────┐
  │                             │ ← border:#EF4444
  └─────────────────────────────┘
  ⚠️ プリセット名を入力してください  ← text:#EF4444 12sp
```

**エラーモーダル**:
```
┌─────────────────────────────────────┐
│                                     │
│            ⚠️                       │ ← icon:48dp #EF4444
│                                     │
│      エラーが発生しました           │ ← title:18sp Bold
│                                     │
│   ネットワーク接続を確認して        │ ← body:14sp #888888
│   もう一度お試しください            │
│                                     │
│     ┌─────────────────────┐         │
│     │     再試行          │         │ ← primary button
│     └─────────────────────┘         │
│                                     │
│          キャンセル                 │ ← text link:#888888
│                                     │
└─────────────────────────────────────┘
```

### 11.3 空状態（Empty State）

**練習記録がない場合**:
```
┌─────────────────────────────────────┐
│                                     │
│            📊                       │ ← icon:64dp #333333
│                                     │
│      まだ練習記録がありません        │ ← title:18sp #FFFFFF
│                                     │
│   メトロノームを使って練習を        │ ← body:14sp #888888
│   始めましょう                      │
│                                     │
│     ┌─────────────────────┐         │
│     │   練習を始める      │         │ ← primary button
│     └─────────────────────┘         │
│                                     │
└─────────────────────────────────────┘
```

**カスタムプリセットがない場合**:
```
  ┌ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ┐
  │                             │ ← border-dashed:#333333
  │    ＋ 最初のプリセットを      │
  │       作成しましょう         │
  │                             │
  └ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ┘
```

### 11.4 成功状態

**トースト通知**:
```
┌─────────────────────────────────────┐
│ ✅ 保存しました                     │ ← bg:#22C55E text:#FFFFFF
└─────────────────────────────────────┘
```

**成功モーダル（プレミアム購入時）**:
```
┌─────────────────────────────────────┐
│                                     │
│            🎉                       │ ← アニメーション付き
│                                     │
│      プレミアムになりました！        │
│                                     │
│   すべての機能をお楽しみください     │
│                                     │
│     ┌─────────────────────┐         │
│     │       OK            │         │
│     └─────────────────────┘         │
│                                     │
└─────────────────────────────────────┘
```

### 11.5 オフライン状態

**バナー表示**:
```
┌─────────────────────────────────────┐
│ 📶 オフラインです - 接続を確認      │ ← bg:#F59E0B text:#000000
├─────────────────────────────────────┤   画面上部固定
│          （通常コンテンツ）          │
```

---

## 12. マイクロインタラクション

### 12.1 ボタン押下

**通常ボタン**:
| 状態 | スタイル変化 |
|------|-------------|
| Normal | bg:#3B82F6 |
| Pressed | bg:#2563EB scale:0.95 |
| Disabled | bg:#555555 text:#888888 |

**アウトラインボタン**:
| 状態 | スタイル変化 |
|------|-------------|
| Normal | bg:transparent border:#3B82F6 text:#3B82F6 |
| Pressed | bg:#3B82F6/10 |
| Disabled | border:#555555 text:#888888 |

### 12.2 スライダー操作

```
ドラッグ開始
    ↓
Thumb拡大（1.0→1.2, 100ms）
    ↓
値変更（リアルタイム表示）
    ↓
Haptic（10単位ごと）
    ↓
ドラッグ終了
    ↓
Thumb縮小（1.2→1.0, 100ms）
```

### 12.3 トグルスイッチ

```
┌──────────────────┐     ┌──────────────────┐
│ [●    ]   OFF    │ ──→ │     [ ●]  ON     │
│  bg:#333333      │     │  bg:#3B82F6      │
└──────────────────┘     └──────────────────┘
       │                         │
       └─── 200ms, spring ───────┘
```

### 12.4 お気に入りトグル

```
タップ
  ↓
スケール: 1.0 → 1.3 → 1.0 (300ms, spring)
  ↓
色変化: #888888 ↔ #F59E0B (200ms)
  ↓
Haptic: light
```

### 12.5 カードスワイプ削除

```
左スワイプ
    ↓
削除ボタン表示（80dp幅）
    ↓
┌─────────────────────────────┬────────┐
│ プリセット名                │ 🗑️削除 │  ← bg:#EF4444
└─────────────────────────────┴────────┘
    ↓
【タップ】削除ボタン
    ↓
確認ダイアログ
    ↓
削除アニメーション（高さ0へ縮小, 300ms）
```

### 12.6 プルトゥリフレッシュ

```
プルダウン
    ↓
スピナー表示（回転開始）
    ↓
データ更新
    ↓
スピナー非表示（フェードアウト）
    ↓
コンテンツ更新
```

---

## 13. 実装時の注意事項

### 13.1 パフォーマンス

| 項目 | 目標値 | 対策 |
|------|--------|------|
| フレームレート | 60FPS | Reanimated 3でUIスレッド外実行 |
| 初回起動 | < 2秒 | スプラッシュ中にデータ読み込み |
| 画面遷移 | < 300ms | React Navigation最適化 |
| リスト描画 | スムーズ | FlashList使用、アイテム高さ固定 |

### 13.2 Dark Mode対応

このアプリは**ダークモード専用**のため、システム設定に関わらず常にダークテーマを使用:

```typescript
// 強制ダークモード設定
<NavigationContainer theme={DarkTheme}>
  ...
</NavigationContainer>
```

### 13.3 画像アセット仕様

| アセット | サイズ | フォーマット | 用途 |
|---------|--------|-------------|------|
| アプリアイコン | 1024×1024px | PNG | ストア掲載 |
| アダプティブアイコン | 108×108dp | PNG | Android |
| スプラッシュ | 1284×2778px | PNG | 起動画面 |
| タブアイコン | 24×24dp @1x-3x | SVG/PNG | ナビゲーション |

### 13.4 フォント読み込み

```typescript
// expo-fontで事前読み込み
await Font.loadAsync({
  'NotoSansJP-Regular': require('./assets/fonts/NotoSansJP-Regular.ttf'),
  'NotoSansJP-Medium': require('./assets/fonts/NotoSansJP-Medium.ttf'),
  'NotoSansJP-Bold': require('./assets/fonts/NotoSansJP-Bold.ttf'),
});
```

### 13.5 アニメーションライブラリ

**必須**: `react-native-reanimated` v3

```typescript
// workletでアニメーション定義
const animatedStyle = useAnimatedStyle(() => {
  return {
    transform: [{ rotate: `${rotation.value}deg` }],
  };
}, []);
```

### 13.6 広告配置

**バナー広告**:
- 位置: タブバー上部固定
- サイズ: 320×50dp
- マージン: 上下16dp

**無料ユーザーのみ表示**、プレミアムユーザーは非表示

---

## 付録: デフォルトプリセット

| 名前 | BPM | バック:フォワード | 用途 |
|------|-----|-------------------|------|
| スタンダード | 85 | 2:1 | 基本練習 |
| ゆっくり | 70 | 2:1 | 初心者・ロングパット |
| 速め | 100 | 2:1 | ショートパット |
| 均等リズム | 85 | 1:1 | チャーシューメン派 |

---

*このプロンプトはGoogle Stitchでのプロトタイプ生成用に最適化されています。*
